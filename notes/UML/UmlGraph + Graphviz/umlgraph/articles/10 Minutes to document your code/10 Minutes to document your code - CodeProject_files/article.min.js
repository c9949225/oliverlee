function copyCode(){try{var c=document.selection.createRange();if(document.selection.type!="none"){var d=c.parentElement();var g=d.tagName;if(g!=null){if(g.toLowerCase()=="pre"){var a=/<br[^>]*>/gi;var b=c.htmlText.replace(a,"\r\n");a=/&nbsp;/gi;b=b.replace(a," ");a=/&amp;/gi;b=b.replace(a,"&");a=/&lt;/gi;b=b.replace(a,"<");a=/&gt;/gi;b=b.replace(a,">");a=/<\/?span([^>])*>/gi;b=b.replace(a,"");if(b!=null){window.event.returnValue=false;window.clipboardData.setData("Text",b)}}}}}catch(f){}}if(document.all){try{window.attachEvent("oncopy",copyCode)}catch(e){}}function WrapMe(f,h,d,k){var l;var c="";var b=0;var g=f.toLowerCase();var a=h.length;h=h.toLowerCase();while((l=g.indexOf(h,b))>=0){c+=f.substr(b,l-b);c+=d+f.substr(l,a)+k;b=l+a}c+=f.substr(b);return c}function markText(g,b){var d='<span class="search-highlight">';var h="</span>";var a=new RegExp("(<[^>][^<]*>)([^<]*)","g");var f;var c=new String("");while((f=a.exec(b.toString()))!=null){c+=f[1];c+=WrapMe(f[2],g,d,h)}return c}function unmarkText(b,a){elemObj=document.getElementById(b);if(elemObj){var c=new RegExp('<span class="?search-highlight"?>([^<]*)?</span>',"gi");elemObj.parentNode.innerHTML=elemObj.parentNode.innerHTML.replace(c,"$1")}if(a){elemObj=document.getElementById(a);if(elemObj){elemObj.className+=" hidden"}}}function markTextInElement(a,b){elemObj=document.getElementById(b);if(elemObj){elemObj.parentNode.innerHTML=markText(a,elemObj.parentNode.innerHTML)}}function social(){this.txtVersion="1.2";this.addtoInterval=null;this.popupWin="";this.addtoMethod=1;this.AddTitle=null;this.AddURL=null;this.Horizontal=false;this.Showname=false;this.ObjectTypeId=0;this.ObjectId=0;this.PlaceholderId="";this.sns=[{name:"Twitter",image:"AddTo_Twitter.gif",url:"http://twitter.com/home?",urlVar:"status",titleVar:"",noteVar:"",urlPre:"Currently reading ",returnVar:"",otherVars:""},{name:"Digg",image:"AddTo_Digg.png",url:"http://digg.com/submit?",urlVar:"url",titleVar:"",noteVar:"",urlPre:"",returnVar:"",otherVars:"&phase=2"},{name:"Facebook",image:"AddTo_Facebook.png",url:"http://www.facebook.com/sharer.php?",urlVar:"u",titleVar:"t",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Del.icio.us",image:"AddTo_Delicious.png",url:"http://del.icio.us/post?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Reddit",image:"AddTo_Reddit.png",url:"http://reddit.com/submit?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Stumbleupon",image:"AddTo_stumbleupon.png",url:"http://www.stumbleupon.com/submit?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Newsvine",image:"AddTo_Newsvine.png",url:"http://www.newsvine.com/_wine/save?",urlVar:"u",titleVar:"",noteVar:"",urlPre:"",returnVar:"",otherVars:"&popoff=0"},{name:"Technorati",image:"AddTo_Technorati.png",url:"http://technorati.com/faves?",urlVar:"add",titleVar:"",noteVar:"",urlPre:"",returnVar:"",otherVars:""},{name:"Mr. Wong",image:"AddTo_MrWong.png",url:"http://www.mister-wong.com/index.php?",urlVar:"bm_url",titleVar:"bm_description",noteVar:"",urlPre:"",returnVar:"",otherVars:"&action=addurl"},{name:"Yahoo!",image:"AddTo_Yahoo.png",url:"http://myweb2.search.yahoo.com/myresults/bookmarklet?",urlVar:"u",titleVar:"t",noteVar:"",urlPre:"",returnVar:"",otherVars:"&d=&ei=UTF-8"},{name:"Google",image:"AddTo_Google.png",url:"http://www.google.com/bookmarks/mark?",urlVar:"bkmk",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:"&op=edit"},{name:"Windows Live",image:"AddTo_Live.png",url:"https://favorites.live.com/quickadd.aspx?",urlVar:"url",titleVar:"title",noteVar:"",urlPre:"",returnVar:"",otherVars:"&marklet=1&mkt=en-us&top=1"},{name:"Send as Email",image:"envelope.gif",url:"/script/common/TellFriend.aspx?obtid={0}&obid={1}&",urlVar:"",titleVar:"",noteVar:"",prefix:"",returnVar:"",otherVars:""}];this.DrawLink=function(a,c,d){var f=(c==(this.sns.length-1))?"":"Add this page to ";var b='<a class="'+d+'" title="'+f+this.sns[c].name+'" onclick="return '+a+".addto("+c.toString()+');" href="#"><img align="absmiddle" src="/images/'+this.sns[c].image+'" width="16px" height="16px" border="0" /> ';if(this.Showname){b+=this.sns[c].name}return b+"</a> "};this.setupLinks=function(f,a,d,g,l,h,b){var k="";this.AddTitle=d;this.AddURL=a;if(g>this.sns.length){if(this.Horizontal){k+='<span class="'+h+'">Add this article to: </span> '}for(var c=0;c<this.sns.length;c++){if(!this.Horizontal){k+="<div>"}k+=this.DrawLink(f,c,b);k+=(this.Horizontal?" ":"</div>")}}else{k+='<table width="'+l.toString()+'" border="0" cellspacing="0" cellpadding="0"><tr><tr><td colspan="'+g.toString()+'" class="'+h+'" height="20">Add this article to:</td></tr>\n';for(var c=0;c<this.sns.length;c++){k+='<td valign="middle">';k+=this.DrawLink(f,c,b);k+="</td>";if((((c+1)%g)==0)&&(c!=(this.sns.length-1))){k+="</tr><tr>"}}k+="</td></tr></table>"}if($("#ATD")[0]){$("#ATD")[0].innerHTML=k}};this.addtoWin=function(a){if(this.popupWin&&!this.popupWin.closed&&this.popupWin.location){this.popupWin.location.href=a}else{this.popupWin=window.open(a,"addtoPopUp","width=770px,height=500px,menubar=1,toolbar=1,status=1,location=1,resizable=1,scrollbars=1,left=0,top=100");if(!this.popupWin.opener){this.popupWin.opener=self}}if(window.focus){this.popupWin.focus()}return false};this.closeAddTo=function(){if(!this.popupWin.closed&&this.popupWin.location){if(this.popupWin.location.href==this.AddURL){this.popupWin.close()}}else{clearInterval(this.addtoInterval);return true}};this.addto=function(b){if(!this.AddURL){this.AddURL=document.location.href}if(!this.AddTitle){this.AddTitle=escape(document.title)}var a=this.sns[b].url.replace("{0}",this.ObjectTypeId.toString());a=a.replace("{1}",this.ObjectId.toString());var c=a;c+=this.sns[b].urlVar+"="+escape(this.sns[b].urlPre)+this.AddURL;if(this.sns[b].titleVar!=""){c+="&"+this.sns[b].titleVar+"="+this.AddTitle}c+=this.sns[b].otherVars;if(this.sns[b].noteVar!=""){c+="&"+this.sns[b].noteVar+"="+this.AddTitle}if(this.sns[b].returnVar!=""){c+="&"+this.sns[b].returnVar+"="+this.AddURL}switch(this.addtoMethod){case 0:self.location=c;break;case 1:this.addtoWin(c);break;default:}return false};this.setupMenu=function(){var a=false;$(document).ready(function(){var k=$("#SBI"),d=$("#ATD");if(!k||!d){return}var b=$(k).position();var l=$(k).outerWidth();var c=$(d).outerWidth();var g=$(k).outerHeight();var f=(b.left+(l-c)/2)+"px";var h=g+b.top+"px";$(d).css({left:f,top:h});$(k).hover(function(){$(d).stop(true,true).fadeIn("fast")},function(){setTimeout(function(){if(!a){$("#ATD").fadeOut("fast")}},200)});$(d).hover(function(){a=true},function(){a=false;$(d).fadeOut("fast")})})}}function InitWatermark(c,b){var a=$("#"+c);if(!a){return}a.blur(function(){UpdateWatermark(this,b)});a.focus(function(){UpdateWatermark(this,b)});var d=$.trim(a.val());if(d==""||d==b){a.val(b);a.addClass("subdue")}else{if(d!=""&&d!=b){a.removeClass("subdue")}}}function UpdateWatermark(a,b){if(!a){return}var c=$.trim($(a).val());if(c==b&&$(a).hasClass("subdue")){$(a).val("");$(a).removeClass("subdue")}else{if(c==""&&!$(a).hasClass("subdue")){$(a).val(b);$(a).addClass("subdue")}else{$(a).removeClass("subdue")}}}var keyMapping=[];keyMapping["13"]="ENTER";keyMapping["37"]="LEFT";keyMapping["38"]="UP";keyMapping["39"]="RIGHT";keyMapping["40"]="DOWN";keyMapping["16"]="SHIFT";keyMapping["17"]="CTRL";keyMapping["33"]="PGUP";keyMapping["34"]="PGDOWN";var commandMapping={Combinations:{"CTRL+ENTER":function(){Submit()},"CTRL+LEFT":function(){MoveToPost(false,false)},"CTRL+RIGHT":function(){MoveToPost(true,false)},"CTRL+UP":function(){MoveToPost(false,true)},"CTRL+DOWN":function(){MoveToPost(true,true)},"CTRL+PGUP":function(){MoveToPage(true)},"CTRL+PGDOWN":function(){MoveToPage(false)}}};document.onkeydown=function(a){return shortcutEventHandler(a,commandMapping,keyMapping)};function getControlKeys(a){var b="";if(a.ctrlKey){b+="CTRL+"}if(a.shiftKey){b+="SHIFT+"}if(a.altKey){b+="ALT+"}return b}function shortcutEventHandler(f,g,c){if(!f){f=event}var d=(f.keyCode)?f.keyCode:f.charCode;var b="";if(c[d]){b=c[d]}var a=getControlKeys(f);b=a+b;if(g.Combinations[b]){g.Combinations[b]();if(f.preventDefault){f.preventDefault()}else{f.returnValue=false}if(f.stopPropagation){f.stopPropagation()}else{f.cancelBubble=true}return false}return true}function Submit(){var a=document.forms.aspnetForm;if(!a){a=document.aspnetForm}if(a){a.submit()}}function MoveToPage(b){var a=document.getElementById(b?"_mbpUrl":"_mbnUrl");if(a){location.href=a.value}}function MoveToPost(g,n){if(Selected==""||isNaN(Selected)){return}var c=document.getElementById("ForumTable");if(!c){return}var l=getElementsByClass("MsgHd",c,"tr");if(!l){return}var a=null;var k=parseInt(Selected);var b=-1;var f=0;for(var d=0;d<l.length;++d){var h=l[d].id.substring(1,l[d].id.length-3);h=parseInt(h);if(IsThreadHead(l[d])){f=d}if(h==k){b=d;break}}var m=null;for(var d=b+(g?1:-1);d<l.length&&d>=0;g?++d:--d){if((n&&IsThreadHead(l[d]))||!n){m=l[d].id.substring(1,l[d].id.length-3);m=parseInt(m);break}}if(m&&m!=parseInt(Selected)){SwitchMessage(null,m)}}function IsThreadHead(a){return a.className.indexOf("Rt")>=0}function getElementsByClass(a,d,b){var f=new Array();if(d==null){d=document}if(b==null){b="*"}var h=d.getElementsByTagName(b);var g=h.length;var c=new RegExp("(^|\\s)"+a+"(\\s|$)");for(i=0,j=0;i<g;i++){if(c.test(h[i].className)){f[j]=h[i];j++}}return f}function rateItem(l,k,b,h,c,g,f){if(l>0&&k>0){var a=$("div[name=RateItem_"+l+"]").find("input[type=radio]:checked").val();var d=$("[name=RateItem_"+l+"] .RateComment")[0];if(d){d=d.value.replace(/^\s+|\s+$/g,"")}else{d=""}if(a<=0){ShowErrorMessage("You must select a value to vote",l)}else{if(a<=g&&d==""&&h&&c){ShowErrorMessage("You must provide a comment",l)}else{if(c||a>g){PrepElements(l);$.get("/Script/Ratings/Ajax/RateItem.aspx?obid="+l+"&obtid="+k+"&obstid="+b+"&rvv="+a+"&rvc="+escape(d)+(f?"&rdm="+f:""),function(m){callback(m,l)})}}}}return false}function callback(b,a){if(b.length>0){var c=$("div[name=RateItem_"+a+"] .voteRes")[0];if(c){c.innerHTML=b;c.style.display=""}c=$("[name=CurRat_"+a+"]")[0];if(c){c.style.display="none"}}var d=$("div[name=RateItem_"+a+"] .loaderImg")[0];$("div[name=RateItem_"+a+"] .ajaxHist").remove();if(d&&d.style){d.style.display="none"}}function PrepElements(b){var a=$("div[name=RateItem_"+b+"] .loaderImg")[0];if(a&&a.style.display=="none"){a.style.display=""}a=$("div[name=RateItem_"+b+"] .voteTbl")[0];if(a){a.style.display="none"}a=$("div[name=RateItem_"+b+"] .voteRes")[0];if(a){a.style.display="none"}a=$("div[name=RateItem_"+b+"] .rating-comment")[0];if(a){a.style.display="none"}}function ShowErrorMessage(b,a){var c=$("div[name=RateItem_"+a+"] .loaderImg")[0];if(c){c.style.display="none"}}function ReportMe(a,g,d,c){var h="rpt_";var b=GetReportLink(h,a.toString(),g.toString(),d.toString());var f=GetReportStatusMsg(h,a.toString(),g.toString(),d.toString());if(ShowReportingMessage(b,f)){$(f).load(c)}return false}function GetReportLink(b,c,a,d){return $("a[name="+b+c+"_"+a+"_"+d+"]")}function GetReportStatusMsg(c,d,b,f){var a=document.getElementsByName(c+d+"_"+b+"_"+f)[0];return a.parentNode.parentNode.parentNode}function ShowReportingMessage(a,b){if(!a||!b){return false}$(a).css("display","none");$(b).html('<img src="/images/animated_loading_blue.gif" width="16px" height="16px" border="0">');$(b).css("display","");return true}function bookmarkMe(a,g,c,b){var h="bm_";var f=GetBmkLink(h,a.toString(),g.toString());var d=GetBmkStatusMsg(h,a.toString(),g.toString());if(LoadWaitMessage(f,d,b)){$(d).load(c)}return false}function watchMe(a,g,c,b){var h="bmw_";var f=GetBmkLink(h,a.toString(),g.toString());var d=GetBmkStatusMsg(h,a.toString(),g.toString());if(LoadWaitMessage(f,d,b)){$(d).load(c)}return false}function GetBmkLink(b,c,a){return $("a[name="+b+c+"_"+a+"]")}function GetBmkStatusMsg(b,c,a){return document.getElementsByName(b+c+"_"+a)[0]}function LoadWaitMessage(b,c,a){if(!b||!c){return false}$(b).css("display","none");if(a){$(c).html('<img src="/images/loading.gif" width="24px" height="24px" border="0" class="align-top">')}else{$(c).html('<img src="/images/animated_loading_blue.gif" width="16px" height="16px" border="0">')}$(c).css("display","");return true}(function(b){function a(){var f,c,d;f="";for(d=0;d<32;d++){if(d==8||d==12||d==16||d==20){f=f+"-"}c=Math.floor(Math.random()*16).toString(16).toUpperCase();f=f+c}return f}jQuery.fn.AdSigniaAd=function(d){var c=a();this.each(function(l){var g=this;var m={};m.channel=b(this).attr("lqm_channel");m.publisher=b(this).attr("lqm_publisher");m.zone=b(this).attr("lqm_zone");m.format=b(this).attr("lqm_format");var k=b(this).attr("lqm_country");if(k!=undefined){m.country=k}var f=b(this).attr("lqm_tags");if(f!=undefined){m.tags=f}m.ypos=b(this).offset().top;m.pageid=c;m.ct=l+1;m.renderhtml=true;m.target="_blank";var h=d+"?&"+b.param(m);b(this).attr("src",h)})}})(jQuery);var pOpen=new Image();var pClose=new Image();var PreCopy=new Image();pOpen.src="/images/plus.gif";pClose.src="/images/minus.gif";PreCopy.src="/images/copy_16.png";var canCopy=document.all;function togglePre(){var a=this.getAttribute("preid");var d=$("#pre"+a)[0];var b=$("#preimg"+a)[0];var c=$("#precollapse"+a)[0];if(d.style.display!="none"){if(document.all){c.innerText=" Expand"}else{$("#premain"+a).addClass("small-text pre-action-link align-right");c.firstChild.nodeValue=" Expand"}d.style.display="none";b.setAttribute("src",pOpen.src)}else{if(document.all){c.innerText=" Collapse"}else{$("#premain"+a).addClass("small-text align-right");c.firstChild.nodeValue=" Collapse"}d.style.display="block";b.setAttribute("src",pClose.src)}}function CopyCode(d){if(!canCopy){return false}var b=this.getAttribute("preid");if(b<0){return false}var c=$("#pre"+b.toString())[0];if(!c){return false}var a=c.innerHTML;if(!a){return}a=prepareCopyText(a);window.clipboardData.setData("Text",a);return false}function InitTogglePre(){var a=$("#contentdiv")[0];if(!a){return}var k=a.getElementsByTagName("pre");for(var b=0;b<k.length;b++){if(k[b].decoration&&k[b].decoration.toLowerCase()=="none"){continue}var f=k[b].parentNode;var h=k[b].innerHTML.length;var g=h-k[b].innerHTML.replace(/\n/ig,"").length+(h-k[b].innerHTML.replace(/\<br/ig,"").length)/3;var c=document.createElement("div");c.className="small-text align-right";c.setAttribute("id","premain"+b.toString());c.setAttribute("width","100%");c.setAttribute("style","display:block");var d=document.createElement("img");d.setAttribute("id","preimg"+b.toString());d.setAttribute("src",pClose.src);d.style.cursor="pointer";d.setAttribute("height",9);d.setAttribute("width",9);d.setAttribute("preid",b);d.onclick=togglePre;c.appendChild(d);d=document.createElement("span");d.setAttribute("id","precollapse"+b.toString());d.style.cursor="pointer";d.style.marginBottom=0;d.onclick=togglePre;d.setAttribute("preid",b);setText(d," Collapse");c.appendChild(d);if(canCopy){d=document.createElement("span");setText(d," | ");c.appendChild(d);d=document.createElement("a");setText(d,"Copy Code");d.href="#";d.setAttribute("preid",b);d.onclick=CopyCode;c.appendChild(d)}k[b].setAttribute("id","pre"+b.toString());k[b].style.marginTop=0;var f=k[b].parentNode;f.insertBefore(c,k[b])}}function prepareCopyText(b){if(!b){return null}var a=/<br[^>]*>/gi;var b=b.replace(a,"\r\n");a=/&nbsp;/gi;b=b.replace(a," ");a=/&amp;/gi;b=b.replace(a,"&");a=/&lt;/gi;b=b.replace(a,"<");a=/&gt;/gi;b=b.replace(a,">");a=/<\/?span([^>])*>/gi;b=b.replace(a,"");return b}function setText(a,b){if(typeof a.innerText!="undefined"){a.innerText=b}else{a.textContent=b}}InitTogglePre();(function(a){a.fn.hoverIntent=function(p,q){var o={sensitivity:7,interval:100,timeout:0};o=a.extend(o,q?{over:p,out:q}:p);var m,n,k,l;var b=function(f){m=f.pageX;n=f.pageY};var h=function(f,g){g.hoverIntent_t=clearTimeout(g.hoverIntent_t);if((Math.abs(k-m)+Math.abs(l-n))<o.sensitivity){a(g).unbind("mousemove",b);g.hoverIntent_s=1;return o.over.apply(g,[f])}else{k=m;l=n;g.hoverIntent_t=setTimeout(function(){h(f,g)},o.interval)}};var c=function(f,g){g.hoverIntent_t=clearTimeout(g.hoverIntent_t);g.hoverIntent_s=0;return o.out.apply(g,[f])};var d=function(r){var g=jQuery.extend({},r);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(r.type=="mouseenter"){k=g.pageX;l=g.pageY;a(f).bind("mousemove",b);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){h(g,f)},o.interval)}}else{a(f).unbind("mousemove",b);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){c(g,f)},o.timeout)}}};return this.bind("mouseenter",d).bind("mouseleave",d)}})(jQuery);(function(){function B(a){console.log("$f.fireEvent",[].slice.call(a))}function r(a){if(!a||typeof a!="object"){return a}var b=new a.constructor();for(var c in a){if(a.hasOwnProperty(c)){b[c]=r(a[c])}}return b}function t(g,c){if(!g){return}var a,b=0,d=g.length;if(d===undefined){for(a in g){if(c.call(g[a],a,g[a])===false){break}}}else{for(var f=g[0];b<d&&c.call(f,b,f)!==false;f=g[++b]){}}return g}function x(a){return document.getElementById(a)}function p(a,c,b){if(typeof c!="object"){return a}if(a&&c){t(c,function(d,f){if(!b||typeof f!="function"){a[d]=f}})}return a}function u(c){var a=c.indexOf(".");if(a!=-1){var f=c.slice(0,a)||"*";var d=c.slice(a+1,c.length);var b=[];t(document.getElementsByTagName(f),function(){if(this.className&&this.className.indexOf(d)!=-1){b.push(this)}});return b}}function A(a){a=a||window.event;if(a.preventDefault){a.stopPropagation();a.preventDefault()}else{a.returnValue=false;a.cancelBubble=true}return false}function q(a,b,c){a[b]=a[b]||[];a[b].push(c)}function z(){return"_"+(""+Math.random()).slice(2,10)}var o=function(g,d,f){var c=this,b={},h={};c.index=d;if(typeof g=="string"){g={url:g}}p(this,g,true);t(("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop").split(","),function(){var k="on"+this;if(k.indexOf("*")!=-1){k=k.slice(0,k.length-1);var l="onBefore"+k.slice(2);c[l]=function(m){q(h,l,m);return c}}c[k]=function(m){q(h,k,m);return c};if(d==-1){if(c[l]){f[l]=c[l]}if(c[k]){f[k]=c[k]}}});p(this,{onCuepoint:function(l,m){if(arguments.length==1){b.embedded=[null,l];return c}if(typeof l=="number"){l=[l]}var k=z();b[k]=[l,m];if(f.isLoaded()){f._api().fp_addCuepoints(l,d,k)}return c},update:function(m){p(c,m);if(f.isLoaded()){f._api().fp_updateClip(m,d)}var l=f.getConfig();var k=(d==-1)?l.clip:l.playlist[d];p(k,m,true)},_fireEvent:function(C,l,D,n){if(C=="onLoad"){t(b,function(F,E){if(E[0]){f._api().fp_addCuepoints(E[0],d,F)}});return false}n=n||c;if(C=="onCuepoint"){var m=b[l];if(m){return m[1].call(f,n,D)}}if(l&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(C)!=-1){p(n,l);if(l.metaData){if(!n.duration){n.duration=l.metaData.duration}else{n.fullDuration=l.metaData.duration}}}var k=true;t(h[C],function(){k=this.call(f,n,l,D)});return k}});if(g.onCuepoint){var a=g.onCuepoint;c.onCuepoint.apply(c,typeof a=="function"?[a]:a);delete g.onCuepoint}t(g,function(k,l){if(typeof l=="function"){q(h,k,l);delete g[k]}});if(d==-1){f.onCuepoint=this.onCuepoint}};var s=function(b,d,c,g){var a=this,f={},h=false;if(g){p(f,g)}t(d,function(k,l){if(typeof l=="function"){f[k]=l;delete d[k]}});p(this,{animate:function(C,k,n){if(!C){return a}if(typeof k=="function"){n=k;k=500}if(typeof C=="string"){var m=C;C={};C[m]=k;k=500}if(n){var l=z();f[l]=n}if(k===undefined){k=500}d=c._api().fp_animate(b,C,k,l);return a},css:function(m,l){if(l!==undefined){var k={};k[m]=l;m=k}d=c._api().fp_css(b,m);p(a,d);return a},show:function(){this.display="block";c._api().fp_showPlugin(b);return a},hide:function(){this.display="none";c._api().fp_hidePlugin(b);return a},toggle:function(){this.display=c._api().fp_togglePlugin(b);return a},fadeTo:function(n,m,l){if(typeof m=="function"){l=m;m=500}if(l){var k=z();f[k]=l}this.display=c._api().fp_fadeTo(b,n,m,k);this.opacity=n;return a},fadeIn:function(l,k){return a.fadeTo(1,l,k)},fadeOut:function(l,k){return a.fadeTo(0,l,k)},getName:function(){return b},getPlayer:function(){return c},_fireEvent:function(D,C,k){if(D=="onUpdate"){var m=c._api().fp_getPlugin(b);if(!m){return}p(a,m);delete a.methods;if(!h){t(m.methods,function(){var E=""+this;a[E]=function(){var F=[].slice.call(arguments);var G=c._api().fp_invoke(b,E,F);return G==="undefined"||G===undefined?a:G}});h=true}}var n=f[D];if(n){var l=n.apply(a,C);if(D.slice(0,1)=="_"){delete f[D]}return l}return a}})};function w(g,a,l){var H=this,n=null,M=false,m,k,O=[],c={},b={},N,h,f,L,I,J;p(H,{id:function(){return N},isLoaded:function(){return(n!==null&&n.fp_play!==undefined&&!M)},getParent:function(){return g},hide:function(C){if(C){g.style.height="0px"}if(H.isLoaded()){n.style.height="0px"}return H},show:function(){g.style.height=J+"px";if(H.isLoaded()){n.style.height=I+"px"}return H},isHidden:function(){return H.isLoaded()&&parseInt(n.style.height,10)===0},load:function(E){if(!H.isLoaded()&&H._fireEvent("onBeforeLoad")!==false){var C=function(){m=g.innerHTML;if(m&&!flashembed.isSupported(a.version)){g.innerHTML=""}if(E){E.cached=true;q(b,"onLoad",E)}flashembed(g,a,{config:l})};var D=0;t(v,function(){this.unload(function(F){if(++D==v.length){C()}})})}return H},unload:function(E){if(this.isFullscreen()&&/WebKit/i.test(navigator.userAgent)){if(E){E(false)}return H}if(m.replace(/\s/g,"")!==""){if(H._fireEvent("onBeforeUnload")===false){if(E){E(false)}return H}M=true;try{if(n){n.fp_close();H._fireEvent("onUnload")}}catch(C){}var D=function(){n=null;g.innerHTML=m;M=false;if(E){E(true)}};setTimeout(D,50)}else{if(E){E(false)}}return H},getClip:function(C){if(C===undefined){C=L}return O[C]},getCommonClip:function(){return k},getPlaylist:function(){return O},getPlugin:function(C){var E=c[C];if(!E&&H.isLoaded()){var D=H._api().fp_getPlugin(C);if(D){E=new s(C,D,H);c[C]=E}}return E},getScreen:function(){return H.getPlugin("screen")},getControls:function(){return H.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return H.getPlugin("logo")._fireEvent("onUpdate")}catch(C){}},getPlay:function(){return H.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(C){return C?r(l):l},getFlashParams:function(){return a},loadPlugin:function(F,E,P,G){if(typeof P=="function"){G=P;P={}}var D=G?z():"_";H._api().fp_loadPlugin(F,E,P,D);var C={};C[D]=G;var Q=new s(F,null,H,C);c[F]=Q;return Q},getState:function(){return H.isLoaded()?n.fp_getState():-1},play:function(D,C){var E=function(){if(D!==undefined){H._api().fp_play(D,C)}else{H._api().fp_play()}};if(H.isLoaded()){E()}else{if(M){setTimeout(function(){H.play(D,C)},50)}else{H.load(function(){E()})}}return H},getVersion:function(){var D="flowplayer.js 3.2.6";if(H.isLoaded()){var C=n.fp_getVersion();C.push(D);return C}return D},_api:function(){if(!H.isLoaded()){throw"Flowplayer "+H.id()+" not loaded when calling an API method"}return n},setClip:function(C){H.setPlaylist([C]);return H},getIndex:function(){return f},_swfHeight:function(){return n.clientHeight}});t(("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut").split(","),function(){var C="on"+this;if(C.indexOf("*")!=-1){C=C.slice(0,C.length-1);var D="onBefore"+C.slice(2);H[D]=function(E){q(b,D,E);return H}}H[C]=function(E){q(b,C,E);return H}});t(("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled").split(","),function(){var C=this;H[C]=function(E,D){if(!H.isLoaded()){return H}var F=null;if(E!==undefined&&D!==undefined){F=n["fp_"+C](E,D)}else{F=(E===undefined)?n["fp_"+C]():n["fp_"+C](E)}return F==="undefined"||F===undefined?H:F}});H._fireEvent=function(W){if(typeof W=="string"){W=[W]}var X=W[0],U=W[1],S=W[2],G=W[3],F=0;if(l.debug){B(W)}if(!H.isLoaded()&&X=="onLoad"&&U=="player"){n=n||x(h);I=H._swfHeight();t(O,function(){this._fireEvent("onLoad")});t(c,function(Q,P){P._fireEvent("onUpdate")});k._fireEvent("onLoad")}if(X=="onLoad"&&U!="player"){return}if(X=="onError"){if(typeof U=="string"||(typeof U=="number"&&typeof S=="number")){U=S;S=G}}if(X=="onContextMenu"){t(l.contextMenu[U],function(Q,P){P.call(H)});return}if(X=="onPluginEvent"||X=="onBeforePluginEvent"){var C=U.name||U;var D=c[C];if(D){D._fireEvent("onUpdate",U);return D._fireEvent(S,W.slice(3))}return}if(X=="onPlaylistReplace"){O=[];var T=0;t(U,function(){O.push(new o(this,T++,H))})}if(X=="onClipAdd"){if(U.isInStream){return}U=new o(U,S,H);O.splice(S,0,U);for(F=S+1;F<O.length;F++){O[F].index++}}var V=true;if(typeof U=="number"&&U<O.length){L=U;var E=O[U];if(E){V=E._fireEvent(X,S,G)}if(!E||V!==false){V=k._fireEvent(X,S,G,E)}}t(b[X],function(){V=this.call(H,U,S);if(this.cached){b[X].splice(F,1)}if(V===false){return false}F++});return V};function K(){if($f(g)){$f(g).getParent().innerHTML="";f=$f(g).getIndex();v[f]=H}else{v.push(H);f=v.length-1}J=parseInt(g.style.height,10)||g.clientHeight;N=g.id||"fp"+z();h=a.id||N+"_api";a.id=h;l.playerId=N;if(typeof l=="string"){l={clip:{url:l}}}if(typeof l.clip=="string"){l.clip={url:l.clip}}l.clip=l.clip||{};if(g.getAttribute("href",2)&&!l.clip.url){l.clip.url=g.getAttribute("href",2)}k=new o(l.clip,-1,H);l.playlist=l.playlist||[l.clip];var D=0;t(l.playlist,function(){var F=this;if(typeof F=="object"&&F.length){F={url:""+F}}t(l.clip,function(P,G){if(G!==undefined&&F[P]===undefined&&typeof G!="function"){F[P]=G}});l.playlist[D]=F;F=new o(F,D,H);O.push(F);D++});t(l,function(F,G){if(typeof G=="function"){if(k[F]){k[F](G)}else{q(b,F,G)}delete l[F]}});t(l.plugins,function(F,G){if(G){c[F]=new s(F,G,H)}});if(!l.plugins||l.plugins.controls===undefined){c.controls=new s("controls",null,H)}c.canvas=new s("canvas",null,H);m=g.innerHTML;function E(G){var F=H.hasiPadSupport&&H.hasiPadSupport();if(/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(O[0].url)&&!F){return true}if(!H.isLoaded()&&H._fireEvent("onBeforeClick")!==false){H.load()}return A(G)}function C(){if(m.replace(/\s/g,"")!==""){if(g.addEventListener){g.addEventListener("click",E,false)}else{if(g.attachEvent){g.attachEvent("onclick",E)}}}else{if(g.addEventListener){g.addEventListener("click",A,false)}H.load()}}setTimeout(C,0)}if(typeof g=="string"){var d=x(g);if(!d){throw"Flowplayer cannot access element: "+g}g=d;K()}else{K()}}var v=[];function y(a){this.length=a.length;this.each=function(b){t(a,b)};this.size=function(){return a.length}}window.flowplayer=window.$f=function(){var b=null;var a=arguments[0];if(!arguments.length){t(v,function(){if(this.isLoaded()){b=this;return false}});return b||v[0]}if(arguments.length==1){if(typeof a=="number"){return v[a]}else{if(a=="*"){return new y(v)}t(v,function(){if(this.id()==a.id||this.id()==a||this.getParent()==a){b=this;return false}});return b}}if(arguments.length>1){var g=arguments[1],c=(arguments.length==3)?arguments[2]:{};if(typeof g=="string"){g={src:g}}g=p({bgcolor:"#000000",version:[9,0],expressInstall:"http://static.flowplayer.org/swf/expressinstall.swf",cachebusting:false},g);if(typeof a=="string"){if(a.indexOf(".")!=-1){var f=[];t(u(a),function(){f.push(new w(this,r(g),r(c)))});return new y(f)}else{var d=x(a);return new w(d!==null?d:a,g,c)}}else{if(a){return new w(a,g,c)}}}return null};p(window.$f,{fireEvent:function(){var a=[].slice.call(arguments);var b=$f(a[0]);return b?b._fireEvent(a.slice(1)):null},addPlugin:function(a,b){w.prototype[a]=b;return $f},each:t,extend:p});if(typeof jQuery=="function"){jQuery.fn.flowplayer=function(a,c){if(!arguments.length||typeof arguments[0]=="number"){var b=[];this.each(function(){var d=$f(this);if(d){b.push(d)}});return arguments.length?b[arguments[0]]:new y(b)}return this.each(function(){$f(this,r(a),c?r(c):{})})}}})();(function(){var r=typeof jQuery=="function";var l={width:"100%",height:"100%",allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:null,onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(r){jQuery.tools=jQuery.tools||{};jQuery.tools.flashembed={version:"1.0.4",conf:l}}function m(){if(p.done){return false}var b=document;if(b&&b.getElementsByTagName&&b.getElementById&&b.body){clearInterval(p.timer);p.timer=null;for(var a=0;a<p.ready.length;a++){p.ready[a].call()}p.ready=null;p.done=true}}var p=r?jQuery:function(a){if(p.done){return a()}if(p.timer){p.ready.push(a)}else{p.ready=[a];p.timer=setInterval(m,13)}};function s(b,a){if(a){for(key in a){if(a.hasOwnProperty(key)){b[key]=a[key]}}}return b}function t(a){switch(k(a)){case"string":a=a.replace(new RegExp('(["\\\\])',"g"),"\\$1");a=a.replace(/^\s?(\d+)%/,"$1pct");return'"'+a+'"';case"array":return"["+o(a,function(d){return t(d)}).join(",")+"]";case"function":return'"function()"';case"object":var b=[];for(var c in a){if(a.hasOwnProperty(c)){b.push('"'+c+'":'+t(a[c]))}}return"{"+b.join(",")+"}"}return String(a).replace(/\s/g," ").replace(/\'/g,'"')}function k(b){if(b===null||b===undefined){return false}var a=typeof b;return(a=="object"&&b.push)?"array":a}if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}function o(a,d){var c=[];for(var b in a){if(a.hasOwnProperty(b)){c[b]=d(a[b])}}return c}function n(g,u){var f=s({},g);var h=document.all;var c='<object width="'+f.width+'" height="'+f.height+'"';if(h&&!f.id){f.id="_"+(""+Math.random()).substring(9)}if(f.id){c+=' id="'+f.id+'"'}if(f.cachebusting){f.src+=((f.src.indexOf("?")!=-1?"&":"?")+Math.random())}if(f.w3c||!h){c+=' data="'+f.src+'" type="application/x-shockwave-flash"'}else{c+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'}c+=">";if(f.w3c||h){c+='<param name="movie" value="'+f.src+'" />'}f.width=f.height=f.id=f.w3c=f.src=null;for(var a in f){if(f[a]!==null){c+='<param name="'+a+'" value="'+f[a]+'" />'}}var d="";if(u){for(var b in u){if(u[b]!==null){d+=b+"="+(typeof u[b]=="object"?t(u[b]):u[b])+"&"}}d=d.substring(0,d.length-1);c+='<param name="flashvars" value=\''+d+"' />"}c+="</object>";return c}function q(c,g,b){var a=flashembed.getVersion();s(this,{getContainer:function(){return c},getConf:function(){return g},getVersion:function(){return a},getFlashvars:function(){return b},getApi:function(){return c.firstChild},getHTML:function(){return n(g,b)}});var h=g.version;var u=g.expressInstall;var f=!h||flashembed.isSupported(h);if(f){g.onFail=g.version=g.expressInstall=null;c.innerHTML=n(g,b)}else{if(h&&u&&flashembed.isSupported([6,65])){s(g,{src:u});b={MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title};c.innerHTML=n(g,b)}else{if(c.innerHTML.replace(/\s/g,"")!==""){}else{c.innerHTML="<h2>Flash version "+h+" or greater is required</h2><h3>"+(a[0]>0?"Your version is "+a:"You have no flash plugin installed")+"</h3>"+(c.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='http://www.adobe.com/go/getflashplayer'>here</a></p>");if(c.tagName=="A"){c.onclick=function(){location.href="http://www.adobe.com/go/getflashplayer"}}}}}if(!f&&g.onFail){var d=g.onFail.call(this);if(typeof d=="string"){c.innerHTML=d}}if(document.all){window[g.id]=document.getElementById(g.id)}}window.flashembed=function(c,d,b){if(typeof c=="string"){var f=document.getElementById(c);if(f){c=f}else{p(function(){flashembed(c,d,b)});return}}if(!c){return}if(typeof d=="string"){d={src:d}}var a=s({},l);s(a,d);return new q(c,a,b)};s(window.flashembed,{getVersion:function(){var c=[0,0];if(navigator.plugins&&typeof navigator.plugins["Shockwave Flash"]=="object"){var b=navigator.plugins["Shockwave Flash"].description;if(typeof b!="undefined"){b=b.replace(/^.*\s+(\S+\s+\S+$)/,"$1");var d=parseInt(b.replace(/^(.*)\..*$/,"$1"),10);var u=/r/.test(b)?parseInt(b.replace(/^.*r(.*)$/,"$1"),10):0;c=[d,u]}}else{if(window.ActiveXObject){try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(h){try{g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");c=[6,0];g.AllowScriptAccess="always"}catch(a){if(c[0]==6){return c}}try{g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(f){}}if(typeof g=="object"){b=g.GetVariable("$version");if(typeof b!="undefined"){b=b.replace(/^\S+\s+(.*)$/,"$1").split(",");c=[parseInt(b[0],10),parseInt(b[2],10)]}}}}return c},isSupported:function(a){var c=flashembed.getVersion();var b=(c[0]>a[0])||(c[0]==a[0]&&c[1]>=a[1]);return b},domReady:p,asString:t,getHTML:n});if(r){jQuery.fn.flashembed=function(b,a){var c=null;this.each(function(){c=flashembed(this,b,a)});return b.api===false?this:c}}})();